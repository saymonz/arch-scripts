# systemd-boot-mkconfig
Bash script for autogeneration of systemd-boot entry files

Use at your own risk.

What is it doing exactly?

It detects installed kernels by looking at mkinitcpio presets (because it's the lazy way). For each preset, the script 
check if every needed files are indeed present in /boot, if so it makes 2 entries files: normal and fallback.

There is various settings on script beginning that you should edit:

 - BOOT_PATH: path to your /boot. This script assume that your EFI partition is mounted as /boot. If your's not, you 
will have to manually copy files from /boot directory to the root of your EFI partition and point this there. If 
you're using systemd-boot with a non-standard mounting point for your EFI you probably know what you're doing anyway.
 - LOADER_ENTRIES_PATH: path to your loader/entries directory. By default it's in /boot.
 - OS_PRETTY_NAME: will be the boot menu item text. By default, will be Arch Linux on... Arch Linux. It takes it value 
in /etc/os-release.
 - OS_ID: will serve as prefix for generated filenames by default, along with the MACHINE_ID.
 - MACHINE_ID: specified in each entried as recommended in the systemd-boot specification. It's supposed to be a 
random string generated by your OS on installation. On the plus side, using it for prefixing the filenames avoid 
collision with files from another OS or manually crafted.
 - ENTRY_FILENAME_PREFIX: If you want to avoid ugly filenames or customize the prefix, be my guest.

And last but not least the two most important settings:
 - KERN_CMDLINE_DEFAULT and KERN_CMDLINE_FALLBACK: kernel parameters for booting respectively default (aka it's 
working fine) and fallback (aka oooops) entries. If you don't at least set your root mountpoint you're gonna have a 
bad time.

Run as root (or sudo). It should not modify anything else than the content of LOADER_ENTRIES_PATH, and only files with 
the specified ENTRY_FILENAME_PREFIX, so it MAY be safe.

I'm very new to Bash scripting so maybe your computer will explode, I take no responsability.
